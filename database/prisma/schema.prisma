// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Article {
  id        Int      @id @default(autoincrement())
  title     String   @db.VarChar(255)
  content   String
  //image LongBlob 
userId Int ?
user User? @relation(fields: [userId], references: [id])
}


model User {
  id      Int      @id @default(autoincrement())
  email   String   @unique
  name    String 
  password String
  role  Role    @default(USER)
  grade Grade[] 
  articles Article []
}

enum Role {
  USER
  ADMIN
}

model Grade {
  id      Int      @id @default(autoincrement()) 
  name    String
  date DateTime @default(now())
  score Int
  userId Int ?
  user User? @relation(fields: [userId], references: [id])
  //historique HistoriqueGrade ?
}

//model HistoriqueGrade {
 // id      Int      @id @default(autoincrement()) 
 // name    String 
 // gradeId Int ?
 // grade Grade? @relation(fields: [gradeId], references: [id])
  
//}

//model Permission {
//  id      Int      @id @default(autoincrement())
//  enable  Boolean  @default(value: false)
//  user   User    @relation(fields: [userId], references: [id]) 
  
//}



